(()=>{"use strict";var e={n:s=>{var t=s&&s.__esModule?()=>s.default:()=>s;return e.d(t,{a:t}),t},d:(s,t)=>{for(var l in t)e.o(t,l)&&!e.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:t[l]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.blocks,t=window.wp.element,l=(window.wp.components,window.wp.apiFetch);var d=e.n(l);const n=window.ReactJSXRuntime;(0,s.registerBlockType)("easel/shortcode",{title:"EASEL作品リスト挿入",icon:{foreground:"#ff8f37",src:"shortcode"},category:"common",attributes:{selectedOption:{type:"string",default:"new_illust"},selectedOption2:{type:"string",default:"works"},selectedOption3:{type:"string",default:"orderby=post_date order=DESC"},checkboxes:{type:"array",default:[]},checkboxes2:{type:"array",default:[]},count:{type:"string",default:"-1"},addClass:{type:"string",default:""},workType:{type:"array",default:[]}},edit({attributes:e,setAttributes:s}){const{selectedOption:l,selectedOption2:r,selectedOption3:c,addClass:o,count:a,workType:i,checkboxes:p,checkboxes2:x}=e;(0,t.useEffect)((()=>{d()({path:"/wp/v2/custom_cat"}).then((e=>{console.log("Fetched work types:",e),s({workType:e})})).catch((e=>{console.error("Error fetching work types:",e)}))}),[]);const h=e=>{s({selectedOption:e.target.value})},u=e=>{s({selectedOption2:e.target.value})},j=e=>{s({selectedOption3:e.target.value})},y=e=>{const t=e.target.value,l=p.includes(t)?p.filter((e=>e!==t)):[...p,t];s({checkboxes:l})},b=e=>{const t=e.target.value,l=x.includes(t)?x.filter((e=>e!==t)):[...x,t];s({checkboxes2:l})},g="post"===r;return(0,n.jsxs)("div",{style:{fontSize:"14px",background:"#00000012",padding:"15px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"ショートコード生成"}),(0,n.jsx)("br",{}),(0,n.jsxs)("code",{children:["[",l," post_type=",r," ",!g&&`work_type=${p.join(",")} ${x.join(" ")} `," count=",a," class=",o,"]"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"リストタイプ"}),(0,n.jsxs)("dd",{children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_illust",checked:"new_illust"===l,onChange:h}),"　イラスト（サムネイル大）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_illust type=small",checked:"new_illust type=small"===l,onChange:h}),"　イラスト（サムネイル小）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_text",checked:"new_text"===l,onChange:h}),"　文章（２行）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_text type=line1",checked:"new_text type=line1"===l,onChange:h}),"　文章（１行）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_text type=noexcerpt",checked:"new_text type=noexcerpt"===l,onChange:h}),"　文章（抜粋なし）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"new_list",checked:"new_list"===l,onChange:h}),"　更新履歴"]})]})]}),(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"表示する投稿タイプ"}),(0,n.jsxs)("dd",{children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"works",checked:"works"===r,onChange:u}),"　作品"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"post",checked:"post"===r,onChange:u}),"　投稿"]})]})]}),!g&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"表示する作品タイプ"}),i.map((e=>(0,n.jsxs)("dd",{children:[" ",(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",value:e.slug,checked:p.includes(e.slug),onChange:y}),e.name]})]},e.id)))]}),(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"バッジ表示"}),(0,n.jsxs)("dd",{children:[(0,n.jsxs)("span",{style:{fontSize:"12px"},children:["リストに作品タイプ・作品タグを表示することができます。",(0,n.jsx)("br",{}),"※現在、リストタイプ「文章」の場合のみ有効です"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",value:"showtype=true",checked:x.includes("showtype=true"),onChange:b}),"　作品タイプを表示する"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",value:"showtag=true",checked:x.includes("showtag=true"),onChange:b}),"　作品タグを表示する"]})]})]})]}),(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"最大表示件数"}),(0,n.jsxs)("dd",{children:[(0,n.jsx)("input",{type:"number",value:a,onChange:e=>{s({count:e.target.value})}}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{fontSize:"12px"},children:"全て表示する場合は「-1」にしてください。"})]})]}),(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"表示順"}),(0,n.jsxs)("dd",{children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"orderby=post_date order=DESC",checked:"orderby=post_date order=DESC"===c,onChange:j}),"　日付順（新→古）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"orderby=post_date order=ASC",checked:"orderby=post_date order=ASC"===c,onChange:j}),"　日付順（古→新）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"orderby=title order=DESC",checked:"orderby=title order=DESC"===c,onChange:j}),"　名前順（あいう漢字ABC）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"orderby=title order=ASC",checked:"orderby=title order=ASC"===c,onChange:j}),"　名前順（CBA漢字ういあ）"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",value:"orderby=rand",checked:"orderby=rand"===c,onChange:j}),"　ランダム表示"]})]})]}),(0,n.jsxs)("dl",{class:"easel_dl",children:[(0,n.jsx)("dt",{children:"Class追加"}),(0,n.jsxs)("dd",{children:[(0,n.jsx)("input",{type:"text",value:o,onChange:e=>{s({addClass:e.target.value})}}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{style:{fontSize:"12px"},children:["自由にカスタマイズしたい人用",(0,n.jsx)("br",{}),"ここに入力した文字列がulのclassとして設定されます"]})]})]})]})]})},save({attributes:e}){const{selectedOption:s,selectedOption2:t,selectedOption3:l,addClass:d,count:r,checkboxes:c,checkboxes2:o}=e,a="post"===t;return(0,n.jsxs)("div",{children:["[",s," post_type=",t," ",l," ",!a&&`work_type=${c.join(",")} ${o.join(" ")} `," count=",r,' class="',d,'"]']})}})})();